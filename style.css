.mode-grid button:hover {
    background: #555;
    border-color: var(--btn-coral);
}

.matrix-input-grid {
    display: grid;
    gap: 2px;
    margin-bottom: 10px;
    max-height: 200px;
    overflow-y: auto;
}

.matrix-input-grid input {
    width: 100%;
    padding: 5px;
    background: #000;
    color: #fff;
    border: 1px solid #555;
    text-align: center;
}

/* Special styling for key labels (Shift/Alpha shortcuts) */
/* We can use ::after or ::before for small text above buttons, 
   but simplistic approach is fine for this task unless user insists. 
   We will try to add some tiny text via HTML or just keep it simple.
*/

/* Text Colors for Shift/Alpha functions on body */
.text-shift {
    color: #eab543;
    font-size: 0.6rem;
    position: absolute;
    top: -12px;
    left: 2px;
}

.text-alpha {
    color: #e55039;
    font-size: 0.6rem;
    position: absolute;
    top: -12px;
    right: 2px;
}

:root {
    --bg-color: #1e1e1e;
    --calc-body: #2d3436;
    --screen-bg: #9ea7a6;
    --screen-text: #000;
    --btn-black: #2d3436;
    --btn-white: #dfe6e9;
    --btn-silver: #b2bec3;
    --btn-teal: #008080;
    --btn-coral: #FF7F50;
    --text-color: #fff;
    --shadow-light: rgba(255, 255, 255, 0.1);
    --shadow-dark: rgba(0, 0, 0, 0.5);
}

* {
    box-sizing: border-box;
    user-select: none;
    -webkit-tap-highlight-color: transparent;
}

body {
    margin: 0;
    padding: 0;
    font-family: 'Roboto Mono', monospace;
    /* Unique Mesh Gradient Background */
    background: radial-gradient(circle at 10% 20%, rgb(0, 128, 128) 0%, rgb(10, 10, 10) 40%),
        radial-gradient(circle at 90% 80%, rgb(255, 127, 80) 0%, rgb(0, 0, 0) 40%),
        linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
    background-blend-mode: screen, screen, normal;
    background-size: cover;
    background-attachment: fixed;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden;
    /* Prevent scroll on mobile */
}

/* Calculator Container */
.calculator-container {
    width: 100%;
    max-width: 420px;
    height: 95vh;
    max-height: 900px;
    background-color: #333;
    border-radius: 20px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
    position: relative;
    padding: 10px;
    display: flex;
    flex-direction: column;
    border: 2px solid #555;
    background-image: linear-gradient(#444, #222);
}

@media (max-width: 600px) {
    .calculator-container {
        width: 100%;
        height: 100vh;
        max-height: none;
        border-radius: 0;
        border: none;
    }
}

.calculator-body {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Brand Section */
.brand-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 10px;
    color: #fff;
    font-family: sans-serif;
    margin-bottom: 5px;
}

.casio-logo {
    font-weight: bold;
    font-size: 1.2rem;
    letter-spacing: 1px;
}

.model-name {
    font-size: 0.9rem;
    font-style: italic;
    color: #aaa;
}

.solar-panel {
    width: 60px;
    height: 20px;
    background: #3a2e2e;
    border: 1px solid #555;
    border-radius: 2px;
    background-image: repeating-linear-gradient(90deg, transparent 0, transparent 18%, #555 19%, #555 20%);
}

/* Display Screen */
.display-screen {
    background-color: #8c9ea3;
    /* LCD color */
    padding: 8px;
    border-radius: 5px;
    box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3);
    font-family: 'Orbitron', monospace;
    /* Digital fake */
    display: flex;
    flex-direction: column;
    height: 100px;
    justify-content: space-between;
    border: 4px solid #000;
    margin-bottom: 10px;
    position: relative;
}

.indicators {
    font-size: 0.6rem;
    color: #000;
    display: flex;
    gap: 5px;
    height: 12px;
}

.ind {
    opacity: 0.2;
    font-weight: bold;
}

.ind.active {
    opacity: 1;
}

.display-main {
    font-size: 1.1rem;
    color: #000;
    white-space: pre-wrap;
    word-break: break-all;
    flex-grow: 1;
    padding-top: 5px;
    line-height: 1.2;
}

.display-result {
    font-size: 1.5rem;
    color: #000;
    text-align: right;
    font-weight: bold;
}

/* Control Pad (Replay + Function Keys) */
.control-pad {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 5px;
}

.function-keys-row-1 {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin-top: 5px;
}

/* Replay Button (Circle) */
.replay-btn {
    position: relative;
    width: 80px;
    height: 70px;
    margin: 0 auto;
}

.replay-up,
.replay-down,
.replay-left,
.replay-right {
    position: absolute;
    background: #555;
    /* Dark silver */
    border: none;
    color: #fff;
    font-size: 0.7rem;
    cursor: pointer;
    box-shadow: 0 2px 2px rgba(0, 0, 0, 0.5);
}

.replay-up {
    top: 0;
    left: 25px;
    width: 30px;
    height: 25px;
    border-radius: 5px 5px 0 0;
}

.replay-down {
    bottom: 0;
    left: 25px;
    width: 30px;
    height: 25px;
    border-radius: 0 0 5px 5px;
}

.replay-left {
    top: 25px;
    left: 0;
    width: 25px;
    height: 20px;
    border-radius: 5px 0 0 5px;
}

.replay-right {
    top: 25px;
    right: 0;
    width: 25px;
    height: 20px;
    border-radius: 0 5px 5px 0;
}

/* Center of replay is empty/body color */


/* Buttons General */
button {
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-family: 'Roboto Mono', monospace;
    font-weight: bold;
    box-shadow: 0 3px 0 #000, 0 4px 5px rgba(0, 0, 0, 0.5);
    /* 3D effect */
    transition: transform 0.05s, box-shadow 0.05s;
    position: relative;
    font-size: 0.8rem;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
}

button:active {
    transform: translateY(3px);
    box-shadow: 0 0 0 #000, inset 0 2px 5px rgba(0, 0, 0, 0.5);
}

/* Specific Button Styles */
.btn-small {
    height: 35px;
    border-radius: 10px;
    /* Oval-ish */
    font-size: 0.7rem;
    color: #000;
}

.silver {
    background: #b2bec3;
    box-shadow: 0 3px 0 #636e72;
}

.btn-shift {
    background: #eab543;
    color: #000;
    box-shadow: 0 3px 0 #b78a2e;
}

/* Standard yellow/gold for Shift, but user asked for Teal/Coral combo... let's check. 
   User said: "Teal and Coral colour combination" 
   Let's make Shift use Teal or Coral? 
   Standard Casio SHIFT is Mustard, ALPHA is Pink.
   Let's use Teal for SHIFT accent and Coral for ALPHA accent/keys.
*/
.shift-key {
    background: var(--btn-teal);
    color: #fff;
    box-shadow: 0 3px 0 #004d4d;
}

.alpha-key {
    background: var(--btn-coral);
    color: #fff;
    box-shadow: 0 3px 0 #b3522f;
}

.mode-key {
    background: #555;
    color: #fff;
    box-shadow: 0 3px 0 #333;
}

.on-key {
    background: #555;
    color: #fff;
    box-shadow: 0 3px 0 #333;
}

/* Main Keypad Layout */
.main-keypad {
    display: flex;
    flex-direction: column;
    gap: 8px;
    flex-grow: 1;
}

.scientific-section {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    /* 6 cols for scientific keys */
    gap: 6px;
}

.scientific-section button {
    height: 30px;
    font-size: 0.65rem;
    background: #2d3436;
    /* Black keys */
    color: #fff;
    box-shadow: 0 3px 0 #000;
}

/* Number Section */
/* Split layout: Operators on right, Numbers in block */
/* Actually, standard Casio is a single grid where numbers are centered/right. */
/* We will use a standard grid for the bottom half. */
.number-section {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    /* 5 cols: 7 8 9 DEL AC */
    gap: 8px;
    margin-top: 5px;
}

.number-section button {
    height: 45px;
    font-size: 1.1rem;
}

.btn-num {
    background: #dfe6e9;
    /* White/Light Grey */
    color: #000;
    box-shadow: 0 3px 0 #b2bec3;
}

.btn-op {
    background: #2d3436;
    /* Black/Dark Grey */
    color: #fff;
    box-shadow: 0 3px 0 #000;
}

.btn-op.coral {
    background: var(--btn-coral);
    box-shadow: 0 3px 0 #b3522f;
}

.btn-op.teal {
    background: var(--btn-teal);
    box-shadow: 0 3px 0 #004d4d;
}

/* Mode Menus and Wizards */
.hidden {
    display: none !important;
}

.mode-menu,
.matrix-wizard {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(45, 52, 54, 0.98);
    width: 90%;
    padding: 15px;
    border: 2px solid var(--btn-teal);
    border-radius: 10px;
    color: #fff;
    z-index: 10;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.8);
}

.mode-header {
    background: var(--btn-teal);
    padding: 5px;
    text-align: center;
    border-radius: 5px;
    margin-bottom: 10px;
    font-weight: bold;
}

.mode-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.mode-grid button,
.wizard-step button {
    background: #444;
    color: #fff;
    text-align: left;
    padding: 10px;
    border: 1px solid #666;
    box-shadow: none;
    font-size: 0.9rem;
}